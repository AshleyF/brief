# 19 OCT 2021 Raw Binary

The beauty of not having deadlines is that projects like this can be dropped while I'm busy! I've just moved across the state, bought a new house, and tranistioned to purely remote work. Back now!

Let's add raw binary data to the primitive types. Perhaps this is the _most_ primitive type.

```fsharp
type Value =                            // v
    | Symbol  of string                 // y
    | String  of string                 // s
    | Number  of double                 // n
    | List    of Value list             // l
    | Raw     of byte array * int * int // r - bytes, index, length
    | Map     of Map<string, Value>     // m
    | Word    of Primitive              // w
```

For efficiency, the internal representation will be a `byte array` sliced by an `index` and `length`. Externally, it is merely a sequence of bytes.

The idea will be to replace the F# serialization code with Brief.

Renaming the `load` primitive to `source`, let's add a couple of primitives (`load`/`store`) to read/write binary files. `read` still reads a text file and `source` now reads and parses Brief source. Finally, `save` and `open` read/write machine state images.

Eventually, the idea will be that only `load` and `store` will be primitive.

# 21 OCT 2021 Slice/Append

Added a `>raw` word to convert a Number to a single-byte Raw value, and added `slice` and `append` words to cut appart and put together Raw values. The idea will be to make a parser that loads the binary boot image (`boot.i`) and produces the structure. We'll need words to go from Raw bytes to primitives next.

| Word | Stack | Description | Type |
| --- | --- | --- | --- |
| `slice` | nr-rr | Slice Raw into head of length n and tail | Primitive |
| `append` | rr-r | Append one Raw value to head of another | Primitive |


